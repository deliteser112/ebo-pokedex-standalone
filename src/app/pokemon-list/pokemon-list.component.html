<cdk-virtual-scroll-viewport itemSize="315" class="scroll-viewport">
  <div class="pokemon-grid">
    <!-- Skeleton Loaders -->
    <ng-container *ngIf="isLoading">
      <div class="skeleton-card" *ngFor="let _ of skeletonArray">
        <div class="skeleton-image"></div>
        <div class="skeleton-title"></div>
        <div class="skeleton-info"></div>
        <div class="skeleton-info"></div>
        <div class="skeleton-info"></div>
      </div>
    </ng-container>

    <!-- Actual Pokémon Cards -->
    <ng-container *ngIf="!isLoading && filteredPokemonList.length === 0">
      <div>No Pokémon found for your search.</div>
    </ng-container>

    <ng-container *ngIf="!isLoading && filteredPokemonList.length > 0">
      <div
        class="pokemon-card"
        *ngFor="let pokemon of filteredPokemonList"
        [routerLink]="['/pokemon', pokemon.id]"
      >
        <img
          [src]="pokemon.image"
          alt="{{ pokemon.name }}"
          class="pokemon-image"
          loading="lazy"
        />
        <div class="pokemon-info">
          <h3>{{ pokemon.name | titlecase }} (#{{ pokemon.id }})</h3>
          <p><strong>Base XP:</strong> {{ pokemon.baseExperience }}</p>
          <p>
            <strong>Height:</strong> {{ pokemon.height }} |
            <strong>Weight:</strong> {{ pokemon.weight }}
          </p>
          <p>
            <strong>Types:</strong>
            <span *ngFor="let type of pokemon.types">{{
              type.name | titlecase
            }}</span>
          </p>
        </div>
      </div>
    </ng-container>
  </div>
</cdk-virtual-scroll-viewport>

<div class="pagination-controls">
  <button (click)="onPreviousPage()" [disabled]="offset === 0">Previous</button>
  <span>Page {{ offset / limit + 1 }} of {{ Math.ceil(count / limit) }}</span>
  <button (click)="onNextPage()" [disabled]="offset + limit >= count">Next</button>
</div>
